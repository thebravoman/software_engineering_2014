require 'csv'
student_names = Array.new
student_names2 = Array.new

CSV.foreach(ARGV[0]) do |csv|
	if !student_names.include? [csv[0],' ',csv[1]] then
		student_names << [csv[0],' ',csv[1]]
	end
end


Dir.glob("#{ARGV[1]}/*.*").each do |my_file|
	name = my_file.split(/\//).last.split(/_/)
	extention = my_file.split(/\//).last.split(/\./).last
	if !student_names.include? [name[0],' ',name[1]] then
		student_names2 << [extention,my_file.split(/\//).last.split(/\./).first]
	end
end


Dir.chdir File.dirname(__FILE__)
csv = File.new("results-1-1.csv", "w+")		
student_names2.sort.reverse.each do |extention, name|
	csv.puts "#{name},#{extention}"
end

csv.close

